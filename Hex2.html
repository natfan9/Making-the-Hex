<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Making the Hex: Concacaf World Cup Qualifying</title>
<link rel="stylesheet" type="text/css" href="style.css">
<script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>
	<svg width="960" height="500">
		<text x="320" y="50" text-anchor="middle" class="gameline"></text>
		<text x="320" y="350" text-anchor="middle" class="dateline"></text>
		<text x="320" y="400" text-anchor="middle" class="scores"></text>
		<!--<rect class="teamawin" height="200" width="200" x="0" y="100" fill="gray" onmousedown="testFunction(1)"></rect>
		<text class="label" x="100" y="200" text-anchor="middle" dominant-baseline="middle">United States win</text>
		<rect class="teambwin" height="200" width="200" x="440" y="100" fill="gray" onmousedown="testFunction(2)"></rect>
		<text class="label" x="540" y="200" text-anchor="middle" dominant-baseline="middle">Mexico win</text>
		<rect class="draw" height="90" width="200" x="220" y="100" fill="gray" onmousedown="testFunction(3)"></rect>
		<text class="label" x="320" y="145" text-anchor="middle" dominant-baseline="middle">Draw</text>
		<rect class="teamapso" height="90" width="90" x="220" y="210" fill="gray" onmousedown="testFunction(4)"></rect>
		<text class="label" x="265" y="255" text-anchor="middle" dominant-baseline="middle">USA (pens)</text>
		<rect class="teambpso" height="90" width="90" x="330" y="210" fill="gray" onmousedown="testFunction(5)"></rect>
		<text class="label" x="375" y="255" text-anchor="middle" dominant-baseline="middle">MEX (pens)</text>-->
		<svg class="buttons" x="0" y="100" width="640" height="200">
			<rect class="teamawin" height="200" width="200" x="0" y="0" fill="gray" onmousedown="looper(1)"></rect>
			<text class="buttonlabel teamawinlabel" x="100" y="100" text-anchor="middle" dominant-baseline="middle">United States win</text>
			<rect class="teambwin" height="200" width="200" x="440" y="0" fill="gray" onmousedown="looper(2)"></rect>
			<text class="buttonlabel teambwinlabel" x="540" y="100" text-anchor="middle" dominant-baseline="middle">Mexico win</text>
			<rect class="draw" height="200" width="200" x="220" y="0" fill="gray" onmousedown="looper(3)"></rect>
			<text class="buttonlabel drawlabel" x="320" y="100" text-anchor="middle" dominant-baseline="middle">Draw</text>
		<!--<rect class="teamapso" height="40" width="200" x="0" y="160" fill="gray" onmousedown="looper(4)"></rect>
			<text class="buttonlabel teamapsolabel" x="100" y="180" text-anchor="middle" dominant-baseline="middle">United States (pens)</text>
			<rect class="teambpso" height="40" width="200" x="440" y="160" fill="gray" onmousedown="looper(5)"></rect>
			<text class="buttonlabel teambpsolabel" x="540" y="180" text-anchor="middle" dominant-baseline="middle">Mexico (pens)</text>-->
		</svg>
		<svg class="leaderboard" x="700" y="0" width="260" height="500">
			<text class="leaderboard team1" x="0" y="50">Mexico</text>
			<text class="leaderboard team2" x="0" y="70">United States</text>
			<text class="leaderboard team3" x="0" y="90">Costa Rica</text>
			<text class="leaderboard team4" x="0" y="110">Jamaica</text>
			<text class="leaderboard team5" x="0" y="130">Honduras</text>
			<text class="leaderboard team6" x="0" y="150">El Salvador</text>
			<text class="leaderboard team7" x="0" y="170">Panama</text>
			<text class="leaderboard team8" x="0" y="190">Canada</text>
			<text class="leaderboard team9" x="0" y="210">Curacao</text>
			<text class="leaderboard team10" x="0" y="230">Trinidad and Tobago</text>
			<text class="leaderboard team11" x="0" y="250">Haiti</text>
		</svg>
	</svg>
	<script>
	//var leaderboardArray = [["Mexico",1604],["United States",1548],["Costa Rica",1445],["Jamaica",1425],["Honduras",1350],["El Salvador",1342]]
		
	var countries = ["Mexico","United States","Costa Rica","Jamaica","Honduras","El Salvador","Panama","Canada","Curacao","Haiti","Trinidad and Tobago","Antigua and Barbuda","Bermuda","Guyana","Dominican Republic","Cuba","Montserrat","Aruba","Saint Lucia","Uruguay","Argentina"];
	
	var topCountries = ["Mexico","United States","Costa Rica","Jamaica","Honduras","El Salvador","Panama","Canada","Curacao","Haiti","Trinidad and Tobago"];
		
	//Updated to reflect July 2019 rankings	
	var fwrPoints = {
		Mexico: 1604,
		"United States": 1548,
		"Costa Rica": 1445,
		Jamaica: 1425,
		Honduras: 1350,
		"El Salvador": 1342,
		Panama: 1331,
		Canada: 1312,
		Curacao: 1309,
		Haiti: 1288,
		"Trinidad and Tobago": 1226,
		"Antigua and Barbuda": 1136,
		Bermuda: 972,
		Guyana: 953,
		"Dominican Republic": 1028,
		Cuba: 950,
		Montserrat: 895,
		Aruba: 909,
		"Saint Lucia": 975,
		Uruguay: 1637,
		Argentina: 1610,
		/**key: function(n) {
        	return this[Object.keys(this)[n]];
    	}**/
	};
		
	var games = {
		game1: {
			date: "Thursday, September 5, 2019",
			home: "Bermuda",
			away: "Panama",
			gametype: "Concacaf Nations League Group Stage",
			multiplier: 15,
			gameline: function() {return this.home + " vs " + this.away;}
		},
		game2: {date: "Friday, September 6, 2019", home: "United States", away: "Mexico", gametype: "International Friendly", multiplier: 10, gameline: function() {return this.home + " vs " + this.away;}},
		game3: {date: "Friday, September 6, 2019", home: "Costa Rica", away: "Uruguay", gametype: "International Friendly", multiplier: 10, gameline: function() {return this.home + " vs " + this.away;}},
		game4: {date: "Friday, September 6, 2019", home: "Jamaica", away: "Antigua and Barbuda", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game5: {date: "Saturday, September 7, 2019", home: "El Salvador", away: "Saint Lucia", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game6: {date: "Saturday, September 7, 2019", home: "Canada", away: "Cuba", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game7: {date: "Saturday, September 7, 2019", home: "Curacao", away: "Haiti", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game8: {date: "Sunday, September 8, 2019", home: "Panama", away: "Bermuda", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game9: {date: "Monday, September 9, 2019", home: "Guyana", away: "Jamaica", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game10: {date: "Tuesday, September 10, 2019", home: "Argentina", away: "Mexico", gametype: "International Friendly", multiplier: 10, gameline: function() {return this.home + " vs " + this.away;}},
		game11: {date: "Tuesday, September 10, 2019", home: "Dominican Republic", away: "El Salvador", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game12: {date: "Tuesday, September 10, 2019", home: "Cuba", away: "Canada", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game13: {date: "Tuesday, September 10, 2019", home: "Haiti", away: "Curacao", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game14: {date: "Tuesday, September 10, 2019", home: "Uruguay", away: "United States", gametype: "International Friendly", multiplier: 10, gameline: function() {return this.home + " vs " + this.away;}},
		game15: {date: "Thursday, October 10, 2019", home: "Haiti", away: "Costa Rica", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game16: {date: "Thursday, October 10, 2019", home: "Trinidad and Tobago", away: "Honduras", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game17: {date: "Friday, October 11, 2019", home: "Bermuda", away: "Mexico", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game18: {date: "Friday, October 11, 2019", home: "United States", away: "Cuba", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game19: {date: "Saturday, October 12, 2019", home: "Jamaica", away: "Aruba", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game20: {date: "Saturday, October 12, 2019", home: "Montserrat", away: "El Salvador", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game21: {date: "Sunday, October 13, 2019", home: "Costa Rica", away: "Curacao", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game22: {date: "Tuesday, October 15, 2019", home: "Mexico", away: "Panama", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game23: {date: "Tuesday, October 15, 2019", home: "Canada", away: "United States", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game24: {date: "Tuesday, October 15, 2019", home: "Aruba", away: "Jamaica", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game25: {date: "Tuesday, October 15, 2019", home: "Saint Lucia", away: "El Salvador", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game26: {date: "Thursday, November 14, 2019", home: "Curacao", away: "Costa Rica", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game27: {date: "Friday, November 15, 2019", home: "Panama", away: "Mexico", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game28: {date: "Friday, November 15, 2019", home: "United States", away: "Canada", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game29: {date: "Friday, November 15, 2019", home: "Antigua and Barbuda", away: "Jamaica", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game30: {date: "Saturday, November 16, 2019", home: "El Salvador", away: "Montserrat", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game31: {date: "Sunday, November 17, 2019", home: "Costa Rica", away: "Haiti", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game32: {date: "Sunday, November 17, 2019", home: "Honduras", away: "Trinidad and Tobago", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game33: {date: "Monday, November 18, 2019", home: "Jamaica", away: "Guyana", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game34: {date: "Tuesday, November 19, 2019", home: "Mexico", away: "Bermuda", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game35: {date: "Tuesday, November 19, 2019", home: "Cuba", away: "United States", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		game36: {date: "Tuesday, November 19, 2019", home: "El Salvador", away: "Dominican Republic", gametype: "Concacaf Nations League Group Stage", multiplier: 15, gameline: function() {return this.home + " vs " + this.away;}},
		key: function(n) {
        	return this[Object.keys(this)[n]];
    	}
	};
	/**
	var result = prompt("What happened to the USA?", "1 for win, 0.5 for draw, 0 for loss");
		if (result == 1) {
			fwrPoints["Mexico"] = fwrPoints["Mexico"] + 40 * (0 - (1/(Math.pow(10,(fwrPoints["Mexico"]-fwrPoints["United States"])/600)+1)));
			fwrPoints["United States"] = fwrPoints["United States"] + 40 * (1 - (1/(Math.pow(10,(fwrPoints["United States"]-fwrPoints["Mexico"])/600)+1)));
			alert("Mexico's new point total is " + Math.round(fwrPoints["Mexico"]));
			alert("USA's new point total is " + Math.round(fwrPoints["United States"]));
		} else if (result == 0.5) {
			fwrPoints["Mexico"] = fwrPoints["Mexico"] + 40 * (0.5 - (1/(Math.pow(10,(fwrPoints["Mexico"]-fwrPoints["United States"])/600)+1)));
			fwrPoints["United States"] = fwrPoints["United States"] + 40 * (0.5 - (1/(Math.pow(10,(fwrPoints["United States"]-fwrPoints["Mexico"])/600)+1)));
			alert("Mexico's new point total is " + Math.round(fwrPoints["Mexico"]));
			alert("USA's new point total is " + Math.round(fwrPoints["United States"]));
		} else if (result == 0) {
			fwrPoints["Mexico"] = fwrPoints["Mexico"] + 40 * (1 - (1/(Math.pow(10,(fwrPoints["Mexico"]-fwrPoints["United States"])/600)+1)));
			fwrPoints["United States"] = fwrPoints["United States"] + 40 * (0 - (1/(Math.pow(10,(fwrPoints["United States"]-fwrPoints["Mexico"])/600)+1)));
			alert("Mexico's new point total is " + Math.round(fwrPoints["Mexico"]));
			alert("USA's new point total is " + Math.round(fwrPoints["United States"]));
		} else {
			alert("error");
		}**/
		
	var svg = d3.select("svg");
		
	/**svg.append("rect")
		.attr("class","teamawin")
		.attr("height","200")
		.attr("width","200")
		.attr("x","0")
		.attr("y","100")
		.attr("fill","gray")
		/**.on("mouseup",function(){
			this.style.fill = "blue";
		})
		.on("mouseup",testFunction(1));
		
	svg.append("rect")
		.attr("class","teambwin")
		.attr("height","200")
		.attr("width","200")
		.attr("x","440")
		.attr("y","100")
		.attr("fill","gray")
		.on("mouseup",function(){
			this.style.fill = "blue";
		});
		
	svg.append("rect")
		.attr("class","draw")
		.attr("height","90")
		.attr("width","200")
		.attr("x","220")
		.attr("y","100")
		.attr("fill","gray")
		.on("mouseup",function(){
			this.style.fill = "blue";
		});
		
	svg.append("rect")
		.attr("class","teamapso")
		.attr("height","90")
		.attr("width","90")
		.attr("x","220")
		.attr("y","210")
		.attr("fill","gray")
		.on("mouseup",function(){
			this.style.fill = "blue";
		});
		
	svg.append("rect")
		.attr("class","teambpso")
		.attr("height","90")
		.attr("width","90")
		.attr("x","330")
		.attr("y","210")
		.attr("fill","gray")
		.on("mouseup",function(){
			this.style.fill = "blue";
		});**/
	var text = d3.select("text.gameline");
	
	text.text(games.key(0).gameline() + " - " + games.key(0).gametype);
		
	var homewin = d3.select("text.teamawinlabel");
	var awaywin = d3.select("text.teambwinlabel");
	var homepens = d3.select("text.teamapsolabel");
	var awaypens = d3.select("text.teambpsolabel");
	
	homewin.text(games.key(0).home + " win");
	awaywin.text(games.key(0).away + " win");
	homepens.text(games.key(0).home + " (pens)");
	awaypens.text(games.key(0).away + " (pens)");
		
	var date = d3.select("text.dateline");
		
	date.text(games.key(0).date);
		
	var score = d3.select("text.scores");
		
	score.text(games.key(0).home + "'s score is " + Math.round(fwrPoints[games.key(0).home]) + ". " + games.key(0).away + "'s score is " + Math.round(fwrPoints[games.key(0).away]) + ".");
		
	var lb1 = d3.select("text.team1");
	var lb2 = d3.select("text.team2");
	var lb3 = d3.select("text.team3");
	var lb4 = d3.select("text.team4");
	var lb5 = d3.select("text.team5");
	var lb6 = d3.select("text.team6");
	var lb7 = d3.select("text.team7");
	var lb8 = d3.select("text.team8");
	var lb9 = d3.select("text.team9");
	var lb10 = d3.select("text.team10");
	var lb11 = d3.select("text.team11");
		
	lb1.text(countries[0] + ": " + Math.round(fwrPoints["Mexico"]));
	lb2.text(countries[1] + ": " + Math.round(fwrPoints["United States"]));
	lb3.text(countries[2] + ": " + Math.round(fwrPoints["Costa Rica"]));
	lb4.text(countries[3] + ": " + Math.round(fwrPoints["Jamaica"]));
	lb5.text(countries[4] + ": " + Math.round(fwrPoints["Honduras"]));
	lb6.text(countries[5] + ": " + Math.round(fwrPoints["El Salvador"]));
	lb7.text(countries[6] + ": " + Math.round(fwrPoints["Panama"]));
	lb8.text(countries[7] + ": " + Math.round(fwrPoints["Canada"]));
	lb9.text(countries[8] + ": " + Math.round(fwrPoints["Curacao"]));
	lb10.text(countries[9] + ": " + Math.round(fwrPoints["Haiti"]));
	lb11.text(countries[10] + ": " + Math.round(fwrPoints["Trinidad and Tobago"]));
	/**
	function testFunction(resultindex){
		if (resultindex == 1) {
		fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (0 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
		fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (1 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
		//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
		//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
		text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
		//setTimeout(buttonReset, 1000);
		}
		if (resultindex == 2) {
		fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (1 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
		fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (0 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
		//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
		//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
		text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
		setTimeout(buttonReset, 1000);
		}
		if (resultindex == 3) {
		fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
		fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
		//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
		//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
		text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
		setTimeout(buttonReset, 1000);
		}
		if (resultindex == 4) {
		fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
		fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (0.75 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
		//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
		//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
		text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
		setTimeout(buttonReset, 1000);
		}
		if (resultindex == 5) {
		fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (0.75 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
		fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
		//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
		//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
		text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
		//setTimeout(buttonReset, 1000);
		}
	};**/
	/**
	function loopFunction(resultindex){
		var n = Object.keys(games).length - 1;
		//console.log(resultindex);
		console.log(n);
		//console.log(Object.keys(games).length);
		if (n > 0) {
			switch (resultindex) {
				case 1: 
					fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (0 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
					fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (1 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
					//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
					//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
					text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
					console.log(n);
					n--;
					console.log(n);
					//setTimeout(buttonReset, 1000);
					break;
				case 2:
					fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (1 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
					fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (0 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
					//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
					//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
					text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
					console.log(n);
					n--;
					console.log(n);
					//setTimeout(buttonReset, 1000);
					break;
				case 3:
					fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
					fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
					//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
					//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
					text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
					console.log(n);
					n--;
					console.log(n);
					//setTimeout(buttonReset, 1000);
					break;
				case 4:
					fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
					fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (0.75 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
					//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
					//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
					text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
					console.log(n);
					n--;
					console.log(n);
					//setTimeout(buttonReset, 1000);
					break;
				case 5:
					fwrPoints[games.key(1).away] = fwrPoints[games.key(1).away] + games.key(1).multiplier * (0.75 - (1/(Math.pow(10,-(fwrPoints[games.key(1).away]-fwrPoints[games.key(1).home])/600)+1)));
					fwrPoints[games.key(1).home] = fwrPoints[games.key(1).home] + games.key(1).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(1).home]-fwrPoints[games.key(1).away])/600)+1)));
					//alert("Mexico's new point total is " + Math.round(fwrPoints[games.key(1).away]));
					//alert("USA's new point total is " + Math.round(fwrPoints[games.key(1).home]));
					text.text(games.key(1).away + "'s score is " + Math.round(fwrPoints[games.key(1).away]) + ". " + games.key(1).home + "'s score is " + Math.round(fwrPoints[games.key(1).home]) + ".");
					console.log(n);
					n--;
					console.log(n);
					//setTimeout(buttonReset, 1000);
			}
		}
	};**/
	
	var n = Object.keys(games).length;
	if (n === 5) {
		console.log(games);
	}
	console.log(n);
		if (n > 0) {
			function looper(resultindex) {
				switch (resultindex) {
					case 1:
						if (n > 0) {
							fwrPoints[games.key(Object.keys(games).length - n).away] = fwrPoints[games.key(Object.keys(games).length - n).away] + games.key(Object.keys(games).length - n).multiplier * (0 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).away]-fwrPoints[games.key(Object.keys(games).length - n).home])/600)+1)));
							fwrPoints[games.key(Object.keys(games).length - n).home] = fwrPoints[games.key(Object.keys(games).length - n).home] + games.key(Object.keys(games).length - n).multiplier * (1 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).home]-fwrPoints[games.key(Object.keys(games).length - n).away])/600)+1)));
							leaderboardUpdate();
							score.text(games.key(Object.keys(games).length - n + 1).home + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).home]) + ". " + games.key(Object.keys(games).length - n + 1).away + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).away]) + ".");
							text.text(games.key(Object.keys(games).length - n + 1).gameline() + " - " + games.key(Object.keys(games).length - n + 1).gametype);
							homewin.text(games.key(Object.keys(games).length - n + 1).home + " win");
							awaywin.text(games.key(Object.keys(games).length - n + 1).away + " win");
							homepens.text(games.key(Object.keys(games).length - n + 1).home + " (pens)");
							awaypens.text(games.key(Object.keys(games).length - n + 1).away + " (pens)");
							date.text(games.key(Object.keys(games).length - n + 1).date);
							console.log(n);
							n--;
							console.log(n);
						}
						break;
					case 2:
						if (n > 0) {
							fwrPoints[games.key(Object.keys(games).length - n).away] = fwrPoints[games.key(Object.keys(games).length - n).away] + games.key(Object.keys(games).length - n).multiplier * (1 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).away]-fwrPoints[games.key(Object.keys(games).length - n).home])/600)+1)));
							fwrPoints[games.key(Object.keys(games).length - n).home] = fwrPoints[games.key(Object.keys(games).length - n).home] + games.key(Object.keys(games).length - n).multiplier * (0 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).home]-fwrPoints[games.key(Object.keys(games).length - n).away])/600)+1)));
							leaderboardUpdate();
							score.text(games.key(Object.keys(games).length - n + 1).home + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).home]) + ". " + games.key(Object.keys(games).length - n + 1).away + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).away]) + ".");
							text.text(games.key(Object.keys(games).length - n + 1).gameline() + " - " + games.key(Object.keys(games).length - n + 1).gametype);
							homewin.text(games.key(Object.keys(games).length - n + 1).home + " win");
							awaywin.text(games.key(Object.keys(games).length - n + 1).away + " win");
							homepens.text(games.key(Object.keys(games).length - n + 1).home + " (pens)");
							awaypens.text(games.key(Object.keys(games).length - n + 1).away + " (pens)");
							date.text(games.key(Object.keys(games).length - n + 1).date);
							console.log(n);
							n--;
							console.log(n);
						}
						break;
					case 3:
						if (n > 0) {
							fwrPoints[games.key(Object.keys(games).length - n).away] = fwrPoints[games.key(Object.keys(games).length - n).away] + games.key(Object.keys(games).length - n).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).away]-fwrPoints[games.key(Object.keys(games).length - n).home])/600)+1)));
							fwrPoints[games.key(Object.keys(games).length - n).home] = fwrPoints[games.key(Object.keys(games).length - n).home] + games.key(Object.keys(games).length - n).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).home]-fwrPoints[games.key(Object.keys(games).length - n).away])/600)+1)));
							leaderboardUpdate();
							score.text(games.key(Object.keys(games).length - n + 1).home + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).home]) + ". " + games.key(Object.keys(games).length - n + 1).away + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).away]) + ".");
							text.text(games.key(Object.keys(games).length - n + 1).gameline() + " - " + games.key(Object.keys(games).length - n + 1).gametype);
							homewin.text(games.key(Object.keys(games).length - n + 1).home + " win");
							awaywin.text(games.key(Object.keys(games).length - n + 1).away + " win");
							homepens.text(games.key(Object.keys(games).length - n + 1).home + " (pens)");
							awaypens.text(games.key(Object.keys(games).length - n + 1).away + " (pens)");
							date.text(games.key(Object.keys(games).length - n + 1).date);
							console.log(n);
							n--;
							console.log(n);
						}
						break;
					case 4:
						if (n > 0) {
							fwrPoints[games.key(Object.keys(games).length - n).away] = fwrPoints[games.key(Object.keys(games).length - n).away] + games.key(Object.keys(games).length - n).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).away]-fwrPoints[games.key(Object.keys(games).length - n).home])/600)+1)));
							fwrPoints[games.key(Object.keys(games).length - n).home] = fwrPoints[games.key(Object.keys(games).length - n).home] + games.key(Object.keys(games).length - n).multiplier * (0.75 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).home]-fwrPoints[games.key(Object.keys(games).length - n).away])/600)+1)));
							leaderboardUpdate();
							score.text(games.key(Object.keys(games).length - n + 1).home + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).home]) + ". " + games.key(Object.keys(games).length - n + 1).away + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).away]) + ".");
							text.text(games.key(Object.keys(games).length - n + 1).gameline() + " - " + games.key(Object.keys(games).length - n + 1).gametype);
							homewin.text(games.key(Object.keys(games).length - n + 1).home + " win");
							awaywin.text(games.key(Object.keys(games).length - n + 1).away + " win");
							homepens.text(games.key(Object.keys(games).length - n + 1).home + " (pens)");
							awaypens.text(games.key(Object.keys(games).length - n + 1).away + " (pens)");
							date.text(games.key(Object.keys(games).length - n + 1).date);
							console.log(n);
							n--;
							console.log(n);
						}
						break;
					case 5:
						if (n > 0) {
							fwrPoints[games.key(Object.keys(games).length - n).away] = fwrPoints[games.key(Object.keys(games).length - n).away] + games.key(Object.keys(games).length - n).multiplier * (0.75 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).away]-fwrPoints[games.key(Object.keys(games).length - n).home])/600)+1)));
							fwrPoints[games.key(Object.keys(games).length - n).home] = fwrPoints[games.key(Object.keys(games).length - n).home] + games.key(Object.keys(games).length - n).multiplier * (0.5 - (1/(Math.pow(10,-(fwrPoints[games.key(Object.keys(games).length - n).home]-fwrPoints[games.key(Object.keys(games).length - n).away])/600)+1)));
							leaderboardUpdate();
							score.text(games.key(Object.keys(games).length - n + 1).home + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).home]) + ". " + games.key(Object.keys(games).length - n + 1).away + "'s score is " + Math.round(fwrPoints[games.key(Object.keys(games).length - n + 1).away]) + ".");
							text.text(games.key(Object.keys(games).length - n + 1).gameline() + " - " + games.key(Object.keys(games).length - n + 1).gametype);
							homewin.text(games.key(Object.keys(games).length - n + 1).home + " win");
							awaywin.text(games.key(Object.keys(games).length - n + 1).away + " win");
							homepens.text(games.key(Object.keys(games).length - n + 1).home + " (pens)");
							awaypens.text(games.key(Object.keys(games).length - n + 1).away + " (pens)");
							date.text(games.key(Object.keys(games).length - n + 1).date);
							console.log(n);
							n--;
							console.log(n);
						}
				}
			};
		}
	function leaderboardUpdate(){
		lb1.text(countries[0] + ": " + Math.round(fwrPoints["Mexico"]));
		lb2.text(countries[1] + ": " + Math.round(fwrPoints["United States"]));
		lb3.text(countries[2] + ": " + Math.round(fwrPoints["Costa Rica"]));
		lb4.text(countries[3] + ": " + Math.round(fwrPoints["Jamaica"]));
		lb5.text(countries[4] + ": " + Math.round(fwrPoints["Honduras"]));
		lb6.text(countries[5] + ": " + Math.round(fwrPoints["El Salvador"]));
		lb7.text(countries[6] + ": " + Math.round(fwrPoints["Panama"]));
		lb8.text(countries[7] + ": " + Math.round(fwrPoints["Canada"]));
		lb9.text(countries[8] + ": " + Math.round(fwrPoints["Curacao"]));
		lb10.text(countries[9] + ": " + Math.round(fwrPoints["Haiti"]));
		lb11.text(countries[10] + ": " + Math.round(fwrPoints["Trinidad and Tobago"]));
		
		boardSorted = Object.keys(fwrPoints).sort(function(a,b){return fwrPoints[b]-fwrPoints[a]})
			//.map(key => fwrPoints[key]);
		while (topCountries.length < boardSorted.length) {	
			for (h = 0; h < boardSorted.length; h++){
				var countrycheck = topCountries.includes(boardSorted[h]);
				//console.log(countrycheck);
				//console.log(h);
				if (countrycheck == 0) {
					boardSorted.splice(h,1);
				}
			}
		}
		console.log(topCountries);
		//console.log(countrycheck);
		//console.log(h);
		console.log(boardSorted);
	}
	</script>
</body>
</html>
